<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TypeWriter</title>
    <link rel = "stylesheet" type = "text/css" href = "designs.css" />
</head>
<body>
    <div id='layout'>
        <input type="text" id='page' />
        <div class="flex-row" id='row1'></div>
            <button onclick="buttonPress('1')">
                <p class='symbol'>!</p>
                <p class="number">1</p>
              </button>
            <button onclick="buttonPress('2')">
                <p class='symbol'>@</p>
                <p class="number">2</p>
              </button>    
            <button onclick="buttonPress('3')">
                <p class='symbol'>#</p>
                <p class="number">3</p>
              </button>
            <button onclick="buttonPress('4')">
                <p class='symbol'>$</p>
                <p class="number">4</p>
              </button>
            <button onclick="buttonPress('5')">
                <p class='symbol'>%</p>
                <p class="number">5</p>
              </button>
            <button onclick="buttonPress('6')">
                <p class='symbol'>^</p>
                <p class="number">6</p>
              </button>
            <button onclick="buttonPress('7')">
                <p class='symbol'>&</p>
                <p class="number">7</p>
              </button>
            <button onclick="buttonPress('8')">
                <p class='symbol'>*</p>
                <p class="number">8</p>
              </button>
            <button onclick="buttonPress('9')">
                <p class='symbol'>(</p>
                <p class="number">9</p>
              </button>
            <button onclick="buttonPress('0')">
                <p class='symbol'>)</p>
                <p class="number">0</p>
              </button>
            <button onclick="backSpace()">
                <p class="backSpace">Backspace</p>
              </button>
          </div>
        <div class="flex-row" id='row2'>
            <button onclick="buttonPress('q')">
                <p>Q</p>
              </button>
            <button onclick="buttonPress('w')">
                <p>W</p>
              </button>
            <button onclick="buttonPress('e')">
                <p>E</p>
              </button>
            <button onclick="buttonPress('r')">
                <p>R</p>
              </button>
            <button onclick="buttonPress('t')">
                <p>T</p>
              </button>
            <button onclick="buttonPress('y')">
                <p>Y</p>
              </button>
            <button onclick="buttonPress('u')">
                <p>U</p>
              </button>
            <button onclick="buttonPress('i')">
                <p>I</p>
              </button>
            <button onclick="buttonPress('o')">
                <p>O</p>
              </button>
            <button onclick="buttonPress('p')">
                <p>P</p>
              </button>
          </div>
        <div class="flex-row" id='row3'>
            <button onclick="buttonPress('a')">
                <p>A</p>
              </button>
            <button onclick="buttonPress('s')">
                <p>S</p>
              </button>
            <button onclick="buttonPress('d')">
                <p>D</p>
              </button> 
            <button onclick="buttonPress('f')">
                <p>F</p>
              </button>
            <button onclick="buttonPress('g')">
                <p>G</p>
              </button>
            <button onclick="buttonPress('h')">
                <p>H</p>
              </button>
            <button onclick="buttonPress('j')">
                <p>J</p>
              </button>
            <button onclick="buttonPress('k')">
                <p>K</p>
              </button>
            <button onclick="buttonPress('l')">
                <p>L</p>
              </button>
          </div>
        <div class="flex-row" id="row4">
            <button onclick="buttonPress('z')">
                <p>Z</p>
              </button>
            <button onclick="buttonPress('x')">
                <p>X</p>
              </button>
            <button onclick="buttonPress('c')">
                <p>C</p>
              </button>
            <button onclick="buttonPress('v')">
                <p>V</p>
              </button>
            <button onclick="buttonPress('b')">
                <p>B</p>
              </button>
            <button onclick="buttonPress('n')">
                <p>N</p>
              </button>
            <button onclick="buttonPress('m')">
                <p>M</p>
              </button>
            <button onclick="buttonPress(',')">
                <p>,</p>
              </button>
            <button onclick="buttonPress('.')">
                <p>.</p>
              </button>
            <button onclick="buttonPress('.com')">.com</button>
          </div>
        <div>
            <button onclick="buttonPress(' ')" id='spacebar'>SpaceBar</button>
          </div>
        <div class="flex-row">
            <button onclick="capstoggle()" id='capskey'>
                <p>Capslk</p>
              </button>
            <button onclick="shifttoggle()" id='shiftkey'>
                <p>Shift</p>
              </button>
            <button onclick="passwordtoggle()" id='passkey'>
                <p>Password</p>
              </button>
            <button onclick="clean()" id='cleankey'>
                <p>Clean</p>
              </button>
            <button onclick="rev()" id='reversekey'>
                <p>Reverse</p>
              </button>
          </div>
      </div>
    <script>
        var flag = null;
        var capslock = 0;
        var shiftlock = 0;
        var passwordlock = 0;
        var cleanlock = 0;
        var reverselock = 0;
        var lowercase = ['a', 'b', 'c', 'd', 'e', 'f', 
                         'g', 'h', 'i', 'j', 'k', 'l',
                         'm', 'n', 'o', 'p', 'q', 'r',
                         's', 't', 'u', 'v', 'w', 'x',
                         'y', 'z'];
        var uppercase = ['A', 'B', 'C', 'D', 'E', 'F',
                         'G', 'H', 'I', 'J', 'K', 'L',
                         'M', 'N', 'O', 'P', 'Q', 'R',
                         'S', 'T', 'U', 'V', 'W', 'X',
                         'Y', 'Z'];
        var numbers = ['1', '2', '3', '4', '5', '6', '7',
                       '8', '9', '0'];
        var specialchar = ['!', '@', '#', '$', '%', '^', 
                           '&', '*', '(', ')'];
        var foullanguage = ['asshole', 'sonofabitch', 'motherfucker',
                            'fuck', 'cunt', 'dick', 'bastard'];
        

        
        function buttonPress(key) {
          //console.log(key)
            if(capslock == 1) {
                key = key.toUpperCase();
            }
            
            if(shiftlock == 1) {
                shift(key);
            }
            
            if(passwordlock == 1) {
                password(key); 
            }
            else print(key);
            
        }

        function print(key) {
            var oldtext = document.getElementById('page').value;
            var newtext = oldtext + key;
            
            document.getElementById('page').value = newtext;
            console.log(key);
        }

        function caps(key) {
          for(let i = 0; i < lowercase.length; i++) {
            if(key == lowercase[i]) {
              key = uppercase[i];
            }
          }
          print(key);
        }

        function capstoggle() {
          if(capslock == 0) { 
            capslock = 1; 
            document.getElementById('capskey').style.color = 'red';
          }
          else {
            capslock = 0;
            document.getElementById('capskey').style.color = 'black';
          }
          console.log(capslock, 'is the capslock')
        }

        function shift(key) {
                for(i = 0; i < 10; i++) {
                    var pos = i;
                    if(key == pos) {
                        key = specialchar[pos - 1];
                    }
                    else if(key == 0) {
                        key = ")";
                        //console.log(key);
                    }
                }
                if(key == specialchar[pos - 1]) {
                    print(key);
                }
                else {
                  caps(key);
                }
                shifttoggle();
            }


        function shifttoggle() {
            shiftlock++;
          if(shiftlock == 1) { 
            document.getElementById('shiftkey').style.color = 'red';
          }
          else if(shiftlock >= 2){
            shiftlock = 0;
            document.getElementById('shiftkey').style.color = 'black';
          }
          console.log(shiftlock);
        }


        function password(key) {
          let oldtext = document.getElementById('page').value;
          let newtext = '';
          passwordtoggle();
          for(let i = 0; i < oldtext.length; i++) {
            newtext = newtext + '*';
          }
          document.getElementById('page').value = newtext + key; 
        }

        function passwordtoggle() {
            if(passwordlock == 0) {
                passwordlock = 1;
                document.getElementById('passkey').style.color = 'red';
            } 
            else {
                passwordlock = 0;
                document.getElementById('passkey').style.color = 'black';
            }
        }

        function cleantoggle() {
          cleanlock++;
          if(cleanlock == 1) {
              document.getElementById('cleankey').style.color = 'red';
          }
          else {
            cleanlock = 0;
            document.getElementById('cleankey').style.color = 'black';
          }
        }

        function rev(key) {
          reversetoggle();
          let oldtext = document.getElementById('page').value;
          let newtext = '';
            newtext += oldtext.split('').reverse().join('');
          document.getElementById('page').value = newtext;
          }
          
          
          function reversetoggle() {
            if(reverselock == 0) {
              reverselock = 1;
            document.getElementById('reversekey').style.color = 'red';
            }
          else {
            reverselock = 0;
            document.getElementById('reversekey').style.color = 'black';
            }
          }
        

        function clean(key) {
          let oldtext = document.getElementById('page').value;
          let newtext;
          for(let i = 0; i < oldtext.length; i++) {
            cleantoggle();
            if(oldtext == foullanguage[i]) {
              newtext = oldtext[0];
              for(let j = 1; j < oldtext.length - 1; j++) {
                newtext += '*';
              }
              newtext += oldtext[oldtext.length - 1];
              document.getElementById('page').value = newtext;
            }
          }
          
        }

        function backSpace() {
          let oldtext = document.getElementById('page').value;
          let newtext = '';
          for(let i = 0; i < oldtext.length - 1; i++) {
            newtext += oldtext[i];
          }
          document.getElementById('page').value = newtext;
        }


      </script>

</body>
</html>