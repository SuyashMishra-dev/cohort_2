<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <form class="col-3" id="sendForm">
        <div class="form-group">
            <label for="exampleInput">Name</label>
            <input type="text" class="form-control" id="exampleInput" placeholder="Name">
        </div>

        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1"  placeholder="Enter email">
        </div>

        <div class="form-group">
            <label for="exampleInputPassword">Password</label>
            <input type="password" class="form-control" id="exampleInputPassword"  placeholder="Enter Password">
        </div>

        
        <div class="form-group">
          <label for="exampleInputName">Username</label>
          <input type="text" class="form-control" id="exampleInputName"  placeholder="Enter Username">
        </div>

        <div class="form-group">
            <label for="exampleInputMobile">Mobile</label>
            <input type="tel" class="form-control" id="exampleInputMobile"  placeholder="Enter Mobile">
        </div>

        <div class="form-group">
            <label for="exampleInputDes">Description</label>
            <input type="text" class="form-control" id="exampleInputDes"  placeholder="Enter Description">
        </div>
      
        
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>

      <script>
        $("#post-btn").click(function(){
        $.ajax({
            method: "POST",
            url: "http://localhost:8080/auth/register",
            data: { email: "eve.holt@reqres.in", password: "cityslicka" }
        })
        .done(function(data) {
            console.log(data);
        });
        });






            var form = document.querySelector('#sendForm')

            form.addEventListener('submit', function(event){
            event.preventDefault(); //Prevents the default behavior of the submit event!
            var inputElements = document.querySelectorAll('.form-control')
            var postObject = {
                name : inputElements[0].value,
                email : inputElements[1].value,
                password : inputElements[2].value,
                username : inputElements[3].value,
                mobile : inputElements[4].value,
                description : inputElements[5].value,
            }
            sendData(postObject)
            });

            function sendData(objData){
                var xhr = new XMLHttpRequest();

                var json = JSON.stringify(objData);
                
                xhr.addEventListener('load', function(){
                    if(xhr.status <= 400){
                    printResponse(xhr.response)
                    }
                    else{
                    console.log("Error Code is:" + xhr.status);
                    }
                });
                formEle
                xhr.addEventListener('error', function(event){
                    console.log('Error in HTTP request!')
                });

                xhr.open("POST", 'http://localhost:8080/auth/register')
                xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');
                xhr.send(json);
                
                }
                
                function printResponse(input) {
                    var body = document.querySelector('body')
                    var outputPara = document.createElement('p')
                    outputPara.textContent = input
                    body.append(outputPara)
                }


      </script>
      
</body>
</html>