<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mileage calculator</title>
    <style>
        body {
            background: url('https://images.unsplash.com/photo-1554223090-7e482851df45?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1892&q=80');            
        }
        p {
            white-space: pre-line;
        }
        
        #fuelContainer,#tripContainer{
            width: 70%;
            margin: auto;
        }

        .allign-center {
            width: 20%;
            margin: auto;
            color: brown;
        }

        label {
            font-size: 16px;
            font-weight: bold;
        }

        input {
            height: 30px;
            border: 2px solid black;
        }

        button {
            border: 1px solid white;
            background: black;
            color: white;
            font-size: 16px;
            height: 30px;
            width: 300px;
        }

        @media(max-width: 1000px) {
            input,label,button {
                width: 90%;
                margin: 10px auto;
            }

            .allign-center {
                width: 100%;
                display: grid;
                grid-template-rows: 80px 80px;
                grid-template-columns: 1fr;
            }
        }

    </style>
</head>
<body>
    <div id="fuelContainer">
        <label for="date">Date of Fuel Filled</label>
        <input type="text" id="date">
        <label for="fuelFilled">Fuel Filled(in lts)</label>
        <input type="text" id="fuelFilled">
        <button onclick="addFuel()">Add Fuel</button>
    </div>
    <br>
    <br>
    <div id="tripContainer">
        <label for="tripName">Trip Name</label>
        <input type="text" id="tripName">
        <label for="distanceTravelled">Distance of Trip</label>
        <input type="text" id="distanceTravelled">
        <button onclick="addTrip()">Add Trip details</button>
    </div>
    <hr>
    <div>
        <div class="allign-center" id="distanceDisplayContainer">
            <button onclick="displayDistance()">Display Total Distance Travelled</button>
            <div id="distanceDisplay"></div>            
        </div>
        <div class="allign-center" id="fuelDisplayContainer">
            <button onclick="displayFuel()">Display Total Fuel Filled</button>        
            <div id="fuelDisplay"></div>    
        </div>
        <div class="allign-center" id="rangeDisplayContainer">
            <button onclick="displayRange()">Display Total Range</button>
            <div id="rangeDisplay"></div>
        </div>
    </div>
    <hr>
    <div>
        <div  class="allign-center" id="displayFuelLog">

        </div>
        <div  class="allign-center" id="displayTripLog">

        </div>
    </div>
    <script>
        var fuelDetailsArr = [];
        var tripDetailsArr = [];

        function displayDistance() {
            var distanceBlock = document.getElementById('distanceDisplay');
            distanceBlock.innerHTML = '';
            var ptag = document.createElement('p');
            ptag.innerHTML = calculateTotalDistance();
            distanceBlock.appendChild(ptag);
            
        }

        function displayFuel() {
            var fuelBlock = document.getElementById('fuelDisplay');
            fuelBlock.innerHTML = '';
            var ptag = document.createElement('p');
            ptag.innerHTML = calculateTotalFuel();
            fuelBlock.appendChild(ptag);
        }   

        function displayRange() {
            var rangeBlock = document.getElementById('rangeDisplay');
            rangeBlock.innerHTML = '';
            var ptag = document.createElement('p');
            ptag.innerHTML = calculateRange(calculateTotalDistance(),calculateTotalFuel());
            rangeBlock.appendChild(ptag);            
        }

        function fuelLog() {
            var fuelLogContainer = document.getElementById('displayFuelLog');
            fuelLogContainer.innerHTML = '';            
            for(var i = 0; i<fuelDetailsArr.length;i++){    
                var ptag = document.createElement('p');            
                ptag.innerHTML = fuelDetailsArr[i].getFuelDetails();
                fuelLogContainer.appendChild(ptag);
            }
            
        }

        function tripLog() {
            var tripLogContainer = document.getElementById('displayTripLog');
            tripLogContainer.innerHTML = '';            
            for(var i = 0; i<tripDetailsArr.length;i++){      
                var ptag = document.createElement('p');          
                ptag.innerHTML = tripDetailsArr[i].getTripDetails();
                tripLogContainer.appendChild(ptag);
            }
            
        }

        function FuelDetails(date,fuelFilled){
            this.date = date;
            this.fuelFilled = Number(fuelFilled);
            this.getFuelDetails = function() {
                var outputString = '';
                for(key in this){
                    if (key == 'getFuelDetails') {
                        continue;
                    }
                    outputString += key.toUpperCase() + ': ' + this[key]+'\n';
                }
                return outputString;
            }
        }

        function TripDetails(name,distance){
            this.name = name;
            this.distance = Number(distance);
            this.getTripDetails = function() {
                var outputString = '';
                for(key in this){
                    if (key == 'getTripDetails') {
                        continue;
                    }
                    outputString += key.toUpperCase() + ': ' + this[key]+'\n';
                }
                return outputString;
            }
        }

        function addFuel(){
            var date = document.getElementById('date').value;
            var fuelFilled = document.getElementById('fuelFilled').value;
            var fuelDetail = new FuelDetails(date,fuelFilled);
            fuelDetailsArr.push(fuelDetail);
            fuelLog();
        }

        function addTrip() {
            var tripName = document.getElementById('tripName').value;
            var distanceTravelled = document.getElementById('distanceTravelled').value;
            var tripDetail = new TripDetails(tripName,distanceTravelled);
            tripDetailsArr.push(tripDetail);
            tripLog();
        }

        function calculateTotalDistance(){
            var totalDistance = 0;
            for(var i=0; i<tripDetailsArr.length;i++){
                totalDistance += tripDetailsArr[i].distance;
            }
            return totalDistance;
        }

        function calculateTotalFuel(){
            var totalFuel = 0;
            for(var i=0; i<fuelDetailsArr.length;i++){
                totalFuel += fuelDetailsArr[i].fuelFilled;
            }
            return totalFuel;
        }

        function calculateRange(td,tf) {
            return ((20*tf)-td);
        }
    </script>
</body>
</html>